<!DOCTYPE html>
<html>
  <head>
    <meta http-equiv="cache-control" content="max-age=0"/>
    <meta http-equiv="Cache-Control" content="no-cache"/>
    <meta http-equiv="Pragma" content="no-cache"/>
    <meta http-equiv="Expires" content="0"/>
    <meta http-equiv="expires" content="Tue, 01 Jan 1980 1:00:00 GMT"/>
    <title>Future Fish Catch, for 2030 and 2050</title>
    <link rel="stylesheet" href="http://onesharedocean.org/geoserver/openlayers/theme/default/style.css" type="text/css">
    <style>
      #map-id {
       width: 720px;
       height: 360px;
       margin:0;
       padding:0;
      }
      #lswitcher.olControlLayerSwitcher{
       font-size:11px !important;
       font-family:sans-serif !important;
       font-weight: normal;
      }
      .olControlLayerSwitcher .layersDiv{
       background-color:#c0c0c0 !important;
      }
    </style>    
    <script src="http://openlayers.org/api/OpenLayers.js"></script>
    
    <script type="text/javascript">
      function init(){    

        OpenLayers.IMAGE_RELOAD_ATTEMPTS = 5

        var defaultExtent = new OpenLayers.Bounds(-180,-85,180,90);
        var minResolution = (90+85)/360.0;
        var maxResolution = 5/720.0;
        var options = {restrictedExtent: defaultExtent, minResolution: minResolution, maxResolution:maxResolution, numZoomLevels:16,
          maxExtent:defaultExtent, controls:[new OpenLayers.Control.PanZoom(), new OpenLayers.Control.NavToolbar()]};
        var map = new OpenLayers.Map("map-id", options);
        var layerSwitcher = new OpenLayers.Control.LayerSwitcher({'div':OpenLayers.Util.getElement('lswitcher')}) ;
        map.addControl(layerSwitcher);

      thisWrapDateLine = false;
      thisSingleTile=false;

        var countriesBack = new OpenLayers.Layer.WMS(
          "Countries", 'http://onesharedocean.org/geoserver/general/wms',
          {layers:'general:world_epsg4326', transparent:true, styles:'countries_lightyellow_noname', bgcolor:'0xDCF0FA'},
          {transparent:true, isBaseLayer:true, visibility:true, opacity:1, wrapDateLine:thisWrapDateLine, singleTile:thisSingleTile, ratio:1, yx:{"EPSG:4326":true}}
        );
      
        var catch2030=new OpenLayers.Layer.WMS(
          "2030", 'http://onesharedocean.org/geoserver/ocean/wms',
//          {layers:'ocean:HS_CPSRESA1B_2030', transparent:true, styles:'oo_future_fish_catch', wrapDateLine:thisWrapDateLine},
      {layers:'ocean:fisheries_pc_2030_relativeto_2000_percent', transparent:true, styles:'futureFishCatch_percent', wrapDateLine:thisWrapDateLine},
          {singleTile:thisSingleTile, isBaseLayer:false, opacity:1, visibility:true,  wrapDateLine:thisWrapDateLine}
        );

        var catch2050=new OpenLayers.Layer.WMS(
          "2050", 'http://onesharedocean.org/geoserver/ocean/wms',
//          {layers:'ocean:HS_CPSRESA1B_2050', transparent:true, styles:'oo_future_fish_catch', wrapDateLine:thisWrapDateLine},
          {layers:'ocean:fisheries_pc_2050_relativeto_2000_percent', transparent:true, styles:'futureFishCatch_percent', wrapDateLine:thisWrapDateLine},
          {singleTile:thisSingleTile, isBaseLayer:false, opacity:1, visibility:false,  wrapDateLine:thisWrapDateLine}
        );


        var ffa = new OpenLayers.Layer.WMS(
          "FAO Fishing Areas", 'http://onesharedocean.org/geoserver/ocean/wms',
          {layers:'ocean:FAO_fishingareas_oceans', transparent:true, styles:'FAO_fishingareas_ocean'},
          {transparent:true, isBaseLayer:false, visibility:true, opacity:1, wrapDateLine:thisWrapDateLine, singleTile:thisSingleTile, ratio:1,yx:{'EPSG:4326':true}}
        );

        var countries = new OpenLayers.Layer.WMS(
          "Countries", 'http://onesharedocean.org/geoserver/general/wms',
          {layers:'general:world_epsg4326', transparent:true, styles:'countries_lightyellow_noname', bgcolor:'0xDCF0FA'},
          {transparent:true, isBaseLayer:false, visibility:true, opacity:1, wrapDateLine:thisWrapDateLine, singleTile:thisSingleTile, ratio:1,yx:{'EPSG:4326':true}}
        );

        map.addLayers([countriesBack, catch2030, catch2050, ffa,  countries]);
        map.setLayerIndex(countriesBack, 0);
        map.setLayerIndex(catch2030, 1);
        map.setLayerIndex(catch2050, 2);
        map.setLayerIndex(ffa, 3);
        map.setLayerIndex(countries, 4);
        map.layers[0].displayInLayerSwitcher=false;
        map.layers[0].setVisibility();

        map.zoomToMaxExtent();
}
    </script>
  </head>

  <body onload="init();">
    
    <div id="map-id" style="float:left; margin-right:0px; "></div>
    <div id="lswitcher" class="olControlLayerSwitcher" style="float:left; width:100px; padding:0; margin:0;"></div>
    <div style="clear:both"></div>
  </body>
  
</html>
